commit d2c795932b58d910c179236d1070e04e8cb54faf
Merge: e350c44 8f84e95
Author: bors <bors@rust-lang.org>
Date:   Sun Jan 8 15:51:49 2017 +0000

    Auto merge of #38837 - eddyb:issue-38074, r=nikomatsakis
    
    Allow projections to be promoted to constants in MIR.
    
    This employs the `LvalueContext` additions by @pcwalton to properly extend the MIR promotion of temporaries to allow projections (field accesses, indexing and dereferences) on said temporaries.
    
    It's needed both parity with the old constant qualification logic (for current borrowck) and it fixes #38074.
    The former is *required for soundness* if we accept the RFC for promoting rvalues to `'static` constants.
    That is, until we get MIR borrowck and the same source of truth will be used for both checks and codegen.
rustc 1.15.0-nightly (daf8c1dfc 2016-12-05)
-rwxr-xr-x 1 root root 9432 Dec  6 15:39 /usr/local/bin/rustc
rustc: ./hyper.0.5.0
cargo rustc  -- -Ztime-passes -Zinput-stats
makefile:4: recipe for target 'all' failed
done
