commit f0b42075981d9914c39e848377a3e12f0adf37d7
Merge: 8e29b4d d492433
Author: bors <bors@rust-lang.org>
Date:   Thu Jan 19 21:15:12 2017 +0000

    Auto merge of #39136 - keeperofdakeys:proc-macro-doc-test, r=alexcrichton
    
    Stop warning when doc testing proc macro crates
    
    Fixes #39064
    
    Add the test option to the session struct that is passed
    to phase_2_configure_and_expand function inside the
    rustdoc test module.
    
    This prevents the warning code from triggering when
    parsing proc_macro_derive attributes, just like when
    `--test` is normally invoked.
    
    This change makes the warning disappear, but I'm not sure what else it might change. So this early PR is mainly to run the test suite, and to get feedback.
rustc 1.15.0-nightly (daf8c1dfc 2016-12-05)
-rwxr-xr-x 1 root root 9432 Dec  6 15:39 /usr/local/bin/rustc
rustc: ./futures-rs-test-all
cargo rustc --test all  -- -Ztime-passes -Zinput-stats
makefile:4: recipe for target 'all' failed
done
