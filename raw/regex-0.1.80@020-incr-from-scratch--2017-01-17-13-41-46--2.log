commit bd8e9b0c828bce489eb948853a6cf86b69b26799
Merge: aedebfe fe025d4
Author: bors <bors@rust-lang.org>
Date:   Tue Jan 17 18:22:20 2017 +0000

    Auto merge of #39109 - michaelwoerister:incr-comp-cache-cleanup, r=nikomatsakis
    
    incr.comp.: Delete orphaned work-products.
    
    The new partitioning scheme uncovered a hole in our incr. comp. cache directory garbage collection. So far, we relied on unneeded work products being deleted during the initial cache invalidation phase. However, we the new scheme, we get object files/work products that only contain code from upstream crates. Sometimes this code is not needed anymore (because all callers have been removed from the source) but because nothing that actually influences the contents of these work products had changed, we never deleted them from disk.
    
    r? @nikomatsakis
rustc 1.15.0-nightly (daf8c1dfc 2016-12-05)
-rwxr-xr-x 1 root root 9432 Dec  6 15:39 /usr/local/bin/rustc
rustc: ./regex-0.1.80@020-incr-from-scratch
find . -name "*.rs" | xargs touch
RUSTFLAGS="-Z incremental=incr" cargo rustc  -- \
  -Ztime-passes -Zinput-stats -Z incremental-info
makefile:12: recipe for target 'all@020-incr-from-scratch' failed
done
