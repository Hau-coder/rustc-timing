commit 302602bcb3c608979bb9122960fbe037d92666e9
Merge: d2c7959 be5e322
Author: bors <bors@rust-lang.org>
Date:   Sun Jan 8 17:48:14 2017 +0000

    Auto merge of #38853 - alexcrichton:better-dist, r=brson
    
    rustbuild: Don't build target compilers in stage0
    
    The `doc-book` and `doc-nomicon` steps accidentally depended on a rustbook
    compiled by a cross-compiled compiler, which isn't necessary. Be sure to set the
    `host` on these dependency edges to the build compiler to ensure that we're
    always using a tool compiled for the host platform.
    
    This was discovered trawling the build logs for the new dist bots and
    discovering that they're building one too many compilers in stage0.
rustc 1.15.0-nightly (daf8c1dfc 2016-12-05)
-rwxr-xr-x 1 root root 9432 Dec  6 15:39 /usr/local/bin/rustc
rustc: ./regex-0.1.80@030-compile_one
git apply 030-compile_one.diff
find . -name "*.rs" | xargs touch
git diff
diff --git a/regex-0.1.80/src/compile.rs b/regex-0.1.80/src/compile.rs
index 9db743f..9a32d30 100644
--- a/regex-0.1.80/src/compile.rs
+++ b/regex-0.1.80/src/compile.rs
@@ -137,6 +137,8 @@ impl Compiler {
     }
 
     fn compile_one(mut self, expr: &Expr) -> result::Result<Program, Error> {
+        {} // @030
+
         // If we're compiling a forward DFA and we aren't anchored, then
         // add a `.*?` before the first capture group.
         // Other matching engines handle this by baking the logic into the
RUSTFLAGS="-Z incremental=incr" cargo rustc  -- \
  -Ztime-passes -Zinput-stats -Z incremental-info
makefile:18: recipe for target 'all@030-compile_one' failed
done
