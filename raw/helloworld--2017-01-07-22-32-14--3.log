commit 05768690857636f27e17c825de791491a88784e7
Merge: 05383b2 8b94267
Author: bors <bors@rust-lang.org>
Date:   Sun Jan 8 04:18:32 2017 +0000

    Auto merge of #38822 - michaelwoerister:collect-fn-once-adapter, r=eddyb
    
    trans: Fix missing closure env drop-glue in trans-item collector.
    
    FnOnce adapters automatically generated by the compiler introduce a call to drop the closure environment. The collector didn't pick up on that because this drop call does not show up in MIR. That could lead to an assertion being triggered if the drop-glue for the environment wasn't instantiated via something else.
    
    Fixes #38810
    
    cc @arielb1
    
    r? @eddyb or @nikomatsakis
rustc 1.15.0-nightly (daf8c1dfc 2016-12-05)
-rwxr-xr-x 1 root root 9432 Dec  6 15:39 /usr/local/bin/rustc
rustc: ./helloworld
cargo rustc  -- -Ztime-passes -Zinput-stats
makefile:4: recipe for target 'all' failed
done
